<!DOCTYPE html>
<html>
<head>
    <title>Lost and Found</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <img src="/images/anunalogo-final.png" alt="Logo">
            <h1>M y S D F O</h1>
        </div>
        <div class="module-links">
            {{#each moduleLinks}}
                <a href="{{this.link}}" class="module-link">
                    <img src="/images/{{this.icon}}">
                    {{this.name}}
                </a>
            {{/each}}
        </div>
    </div>

    <div class="header">
        <div class="search__container">
            <input class="search__input" type="text" placeholder="Search">
        </div> 

        <a href="/profile" class="profile-link">
                <img src="/images/profiletemp.png" alt="Profile Picture">
                Profile
        </a>
    </div>

    <div class="main-body">

        <div class="main-body-header">
            <h3>Lost and Found</h3>
            <p class="welcome-message">View the current Lost and Found</p>
        </div>

        <div class="form-container">
            <div class="report-container">
                <a href="/lostFound/create" class="btn-actions">Create</a>

                <div class="filters-container">
                    <!-- Filter Form -->
                    <form action="/lostFound/list" method="get" class="filter-form-disc">
                        <div class="filter-item">
                            <label for="claimed">Claimed?</label>
                            <select name="claimed" id="claimed">
                                <option value="">All</option>
                                <option value="true" {{#if (eq filter.claimed "true")}}selected{{/if}}>Claimed</option>
                                <option value="false" {{#if (eq filter.claimed "false")}}selected{{/if}}>Unclaimed</option>
                            </select>
                        </div>
                            <button type="submit" class="btn-actions-disc">Filter</button>
                    </form>
                </div>
                
                <table class="report-table">
                    <thead>
                        <tr>
                            <th>Item ID</th>
                            <th>Item Name</th>
                            <th>Location Found</th>
                            <th>Date and Time Found</th>
                            <th>Confirmed By</th>
                            <th>Claimed</th>
                            <th>Claimed By</th>
                            <th>Date Claimed</th>
                            <th>Edit</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each entries}}
                        <tr>
                            <td>{{itemId}}</td>
                            <td>{{itemName}}</td>
                            <td>{{locationFound}}</td>
                            <td>{{dateTimeFound}}</td>
                            <td>{{confirmedBy}}</td>
                            <td>{{#if claimed}}Yes{{else}}No{{/if}}</td>
                            <td>{{claimedBy}}</td>
                            <td>{{dateClaimed}}</td>
                            <td>
                                <a href="/lostFound/edit/{{this._id}}" class="btn-edit">Edit</a>
                            </td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        function editEntry(id) {
            window.location.href = `/lostFound/edit/${id}`;
        }
    </script>
</body>
</html>
